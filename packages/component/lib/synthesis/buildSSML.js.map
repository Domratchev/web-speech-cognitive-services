{"version":3,"sources":["../../src/synthesis/buildSSML.js"],"names":["buildSSML","relativePercentage","value","relative","Math","round","gender","lang","pitch","rate","text","voice","volume"],"mappings":";;;;;kBAYwBA,S;AAZxB;AACA;AACA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AACjC,MAAIC,WAAWC,KAAKC,KAAL,CAAW,CAACH,QAAQ,CAAT,IAAc,GAAzB,CAAf;;AAEA,MAAIC,YAAY,CAAhB,EAAmB;AACjBA,eAAW,MAAMA,QAAjB;AACD;;AAED,SAAOA,WAAW,GAAlB;AACD;;AAEc,SAASH,SAAT,OAA+E;AAAA,MAA1DM,MAA0D,QAA1DA,MAA0D;AAAA,MAAlDC,IAAkD,QAAlDA,IAAkD;AAAA,wBAA5CC,KAA4C;AAAA,MAA5CA,KAA4C,8BAApC,CAAoC;AAAA,uBAAjCC,IAAiC;AAAA,MAAjCA,IAAiC,6BAA1B,CAA0B;AAAA,MAAvBC,IAAuB,QAAvBA,IAAuB;AAAA,MAAjBC,KAAiB,QAAjBA,KAAiB;AAAA,MAAVC,MAAU,QAAVA,MAAU;;AAC5F,6CAA0CL,IAA1C,+BACoBA,IADpB,sBAC2CD,MAD3C,gBAC8DK,KAD9D,gCAEqBV,mBAAmBO,KAAnB,CAFrB,gBAE2DP,mBAAmBQ,IAAnB,CAF3D,kBAEkGR,mBAAmBW,MAAnB,CAFlG,kBAGOF,IAHP;AAOD","file":"buildSSML.js","sourcesContent":["// Cognitive Services does not support unsigned percentage\n// It must be converted into +/- first.\nfunction relativePercentage(value) {\n  let relative = Math.round((value - 1) * 100);\n\n  if (relative >= 0) {\n    relative = '+' + relative;\n  }\n\n  return relative + '%';\n}\n\nexport default function buildSSML({ gender, lang, pitch = 1, rate = 1, text, voice, volume }) {\n  return `<speak version=\"1.0\" xml:lang=\"${ lang }\">\n  <voice xml:lang=\"${ lang }\" xml:gender=\"${ gender }\" name=\"${ voice }\">\n    <prosody pitch=\"${ relativePercentage(pitch) }\" rate=\"${ relativePercentage(rate) }\" volume=\"${ relativePercentage(volume) }\">\n      ${ text }\n    </prosody>\n  </voice>\n</speak>`;\n}\n"]}