{"version":3,"sources":["../../src/util/exchangeToken.js"],"names":["TOKEN_URL","DEFAULT_REGION","subscriptionKey","region","tokenUrl","fetch","headers","undefined","method","res","status","Error","text"],"mappings":";;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAG,iDAAlB;AACA,IAAMC,cAAc,GAAG,QAAvB;;;;;;;;;4BAEe,iBAAgBC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiCC,YAAAA,MAAjC,2DAA0CF,cAA1C;AAA0DG,YAAAA,QAA1D,2DAAqE,IAArE;AAAA;AAAA,mBACKC,KAAK,CAACD,QAAQ,sBAAgBD,MAAhB,cAA4BH,SAA5B,CAAT,EAAmD;AACxEM,cAAAA,OAAO,EAAEJ,eAAe,GAAG;AACzB,6CAA6BA;AADJ,eAAH,GAEpBK,SAHoE;AAIxEC,cAAAA,MAAM,EAAE;AAJgE,aAAnD,CADV;;AAAA;AACPC,YAAAA,GADO;;AAAA,kBAQTA,GAAG,CAACC,MAAJ,KAAe,GARN;AAAA;AAAA;AAAA;;AAAA,kBASL,IAAIC,KAAJ,yDAA4DF,GAAG,CAACC,MAAhE,EATK;;AAAA;AAAA,6CAYND,GAAG,CAACG,IAAJ,EAZM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["const TOKEN_URL = 'api.cognitive.microsoft.com/sts/v1.0/issueToken';\nconst DEFAULT_REGION = 'westus';\n\nexport default async function (subscriptionKey, region = DEFAULT_REGION, tokenUrl = null) {\n  const res = await fetch(tokenUrl || `https://${ region }.${ TOKEN_URL }`, {\n    headers: subscriptionKey ? {\n      'Ocp-Apim-Subscription-Key': subscriptionKey\n    } : undefined,\n    method: 'POST'\n  });\n\n  if (res.status !== 200) {\n    throw new Error(`Failed to fetch speech token, server returned ${ res.status }`);\n  }\n\n  return res.text();\n}\n"],"file":"exchangeToken.js"}